<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact | Pavan Vikhyath Kolluru</title>
    <link rel="stylesheet" href="contact-style.css">
</head>
<body>
    <header>
        <div class="navbar">
            <div class="logo">
                <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="Contact Logo">
                Pavan Vikhyath Kolluru
            </div>
            <nav>
                <a href="index.html">Home</a>
                <a href="projects.html">Projects</a>
                <a href="skills.html">Skills</a>
                <a href="experience.html">Experience</a>
                <a href="contact.html" class="active">Contact</a>
            </nav>
        </div>
    </header>
    <main>
        <section class="contact-section">
            <div class="contact-header-row">
                <div class="contact-info">
                    <h1>Contact</h1>
                </div>
                <div class="contact-artwork">
                    <img src="https://cdn-icons-png.flaticon.com/512/561/561127.png" alt="Contact Icon" style="width:140px;height:140px;">
                </div>
            </div>
            <div class="contact-content-row">
                <div class="contact-card">
                    <h2>Phone Number</h2>
                    <p><a href="tel:+916309487871">+91 6309487871</a></p>
                </div>
                <div class="contact-card">
                    <h2>Email</h2>
                    <p><a href="mailto:vikhyath.592@gmail.com">vikhyath.592@gmail.com</a></p>
                </div>
            </div>
            <div class="contact-form-row">
                <form id="visitorForm">
                    <h2>Let me know you visited!</h2>
                    <label for="visitorName">Name:</label>
                    <input type="text" id="visitorName" name="visitorName" required>
                    <label for="visitorEmail">Email:</label>
                    <input type="email" id="visitorEmail" name="visitorEmail" required>
                    <button type="submit">Submit</button>
                    <div id="formMessage" style="margin-top:10px;"></div>
                </form>
            </div>
        </section>
    </main>
    <script>
    document.getElementById('visitorForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const name = document.getElementById('visitorName').value.trim();
        const email = document.getElementById('visitorEmail').value.trim();
        const messageDiv = document.getElementById('formMessage');
        fetch('http://localhost:3000/api/visit', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ name, email })
        })
        .then(res => res.json())
        .then(data => {
            messageDiv.textContent = data.message;
            messageDiv.style.color = "#52b6ff";
            document.getElementById('visitorForm').reset();
        })
        .catch(() => {
            messageDiv.textContent = "Submission failed. Please try again.";
            messageDiv.style.color = "#ff4d4d";
        });
    });
    </script>
</body>
</html>